<html>
<head>
    <meta charset="utf-8"/>
    <title>blur的demo</title>

    <script type='text/javascript' src='http://g.tbcdn.cn/kissy/k/1.3.2/seed.js'></script>
    <link rel="stylesheet" href="http://g.tbcdn.cn/kissy/k/1.3.2/css/dpl/base-min.css">
    <style type='text/css'>
        body{
            margin:0;padding:0; 
            text-align: center;
        }
        .blur{
            width: 500px;
            height: 300px;
            margin: 50px auto 0;
            position: relative;
        }
        .blur img {
            width: 500px;
            height: 300px;
            position: absolute;
            top: 0;
            left: 0;
        }
    </style>
</head>
<body>
    <h2>blur的demo</h2>
    <div class="blur">
        <img class="blur-img" src="./dota.jpg" />
    </div>
    <input type="range" class="range" min="0" max="150" step="1" value="20" />
    <span class="radius">20</span>
    <script type="text/javascript">
        var S = KISSY;

        if(S.Config.debug) {
            S.config({
              packages:[
                {
                  name:"gallery",
                  path:"../../../",
                  ignorePackageNameInUri:true,
                  charset:"utf-8"
                }
              ]
            });
        }

        S.use('gallery/blur/1.0/index', function(S,Blur){
            var $ = S.all;
            var b1 = new Blur({
                source: '.blur',
                radius: 20
            })
            
            var range = $('.range'), radius = $('.radius');
            range.on("change", function() {
                var val = this.value;
                radius.text(val);
                b1.refresh({radius: val});
            });
        })
    </script>
</body>
</html>